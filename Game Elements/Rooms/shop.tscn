[gd_scene load_steps=10 format=3 uid="uid://c7jn6wdb1cywy"]

[ext_resource type="Texture2D" uid="uid://dqbv1wbpkmdh1" path="res://art/characters/vision/shop_tentacles_mask.png" id="3_11wsk"]
[ext_resource type="Script" uid="uid://b7sxco4u77p4o" path="res://Game Elements/Rooms/vision_npc.gd" id="3_anms3"]
[ext_resource type="Shader" uid="uid://6ptcob6b1l7e" path="res://Game Elements/Rooms/tentacle_mask.gdshader" id="4_lfc25"]
[ext_resource type="Texture2D" uid="uid://b8xv6nl2ivrdf" path="res://art/characters/vision/vision_character.png" id="5_anms3"]
[ext_resource type="PackedScene" uid="uid://cryh3p532bi7" path="res://Game Elements/Objects/tentacle.tscn" id="6_voql5"]
[ext_resource type="PackedScene" uid="uid://nnb0fsf5jvvd" path="res://Game Elements/Objects/moving_target.tscn" id="7_anms3"]
[ext_resource type="TileSet" uid="uid://b7rsdis0l1f8d" path="res://Game Elements/tilesets/medival_tileset.tres" id="8_lfc25"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_anms3"]
shader = ExtResource("4_lfc25")
shader_parameter/hole_mask = ExtResource("3_11wsk")
shader_parameter/hole_center = Vector2(8, 40)
shader_parameter/node_offset = Vector2(0, 0)
shader_parameter/enable = true
shader_parameter/emerge_height = 16.0

[sub_resource type="CircleShape2D" id="CircleShape2D_lfc25"]
radius = 25.0

[node name="Shop" type="Node2D"]
script = ExtResource("3_anms3")

[node name="Cracks" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray(0, 0, 0, 0, 2, 0, 0, 0, 15, 0, 14, 0, 0, 0)
tile_set = ExtResource("8_lfc25")

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
material = SubResource("ShaderMaterial_anms3")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -255.0
offset_top = -256.0
offset_right = 257.0
offset_bottom = 256.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_use_anchors_ = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
render_target_update_mode = 4

[node name="Tentacle8" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(235, 346)
target = NodePath("../../../Targets/MovingTarget8")
num__segments = 26
max_length = 160.0
wave_speed = 1.1
light_color = Color(1, 0.36862746, 0.3764706, 1)
dark_color = Color(0.9415628, 0, 0.19590142, 1)

[node name="Tentacle9" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(219, 339)
target = NodePath("../../../Targets/MovingTarget9")
num__segments = 26
max_length = 170.0
wave_speed = 0.9
light_color = Color(0.53862005, 0.9999998, 0.6630365, 1)
dark_color = Color(3.080368e-06, 0.6494347, 0.31226474, 1)

[node name="Tentacle10" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(236, 353)
target = NodePath("../../../Targets/MovingTarget10")
num__segments = 26
max_length = 180.0
wave_speed = 0.7
light_color = Color(0.8063605, 0.49320686, 1, 1)
dark_color = Color(0.74219275, 0.22175905, 0.99999565, 1)

[node name="Tentacle11" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(251, 349)
target = NodePath("../../../Targets/MovingTarget11")
num__segments = 26
max_length = 190.0
light_color = Color(1, 0.36862746, 0.3764706, 1)
dark_color = Color(0.9415628, 0, 0.19590142, 1)

[node name="Tentacle12" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(270, 353)
target = NodePath("../../../Targets/MovingTarget12")
num__segments = 26
max_length = 180.0
wave_speed = 0.7
light_color = Color(0.53862005, 0.9999998, 0.6630365, 1)
dark_color = Color(3.080368e-06, 0.6494347, 0.31226474, 1)

[node name="Tentacle13" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(289, 351)
target = NodePath("../../../Targets/MovingTarget13")
num__segments = 26
max_length = 170.0
wave_speed = 0.9
light_color = Color(0.8063605, 0.49320686, 1, 1)
dark_color = Color(0.74219275, 0.22175905, 0.99999565, 1)

[node name="Tentacle14" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(305, 342)
target = NodePath("../../../Targets/MovingTarget14")
num__segments = 26
max_length = 160.0
wave_speed = 1.1
light_color = Color(1, 0.36862746, 0.3764706, 1)
dark_color = Color(0.9415628, 0, 0.19590142, 1)

[node name="Tentacle1" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(236, 332)
target = NodePath("../../../Targets/MovingTarget1")
num__segments = 26
max_length = 140.0
wave_speed = 1.1
light_color = Color(0.53862005, 0.9999998, 0.6630365, 1)
dark_color = Color(3.080368e-06, 0.6494347, 0.31226474, 1)

[node name="Tentacle2" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(220, 325)
target = NodePath("../../../Targets/MovingTarget2")
num__segments = 26
max_length = 150.0
wave_speed = 0.9
light_color = Color(0.8063605, 0.49320686, 1, 1)
dark_color = Color(0.74219275, 0.22175905, 0.99999565, 1)

[node name="Tentacle3" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(237, 339)
target = NodePath("../../../Targets/MovingTarget3")
num__segments = 26
max_length = 160.0
wave_speed = 0.7
light_color = Color(1, 0.36862746, 0.3764706, 1)
dark_color = Color(0.9415628, 0, 0.19590142, 1)

[node name="Tentacle4" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(252, 335)
target = NodePath("../../../Targets/MovingTarget4")
num__segments = 26
max_length = 170.0
light_color = Color(0.53862005, 0.9999998, 0.6630365, 1)
dark_color = Color(3.080368e-06, 0.6494347, 0.31226474, 1)

[node name="Tentacle5" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(271, 339)
target = NodePath("../../../Targets/MovingTarget5")
num__segments = 26
max_length = 160.0
wave_speed = 0.7
light_color = Color(0.8063605, 0.49320686, 1, 1)
dark_color = Color(0.74219275, 0.22175905, 0.99999565, 1)

[node name="Tentacle6" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(290, 337)
target = NodePath("../../../Targets/MovingTarget6")
num__segments = 26
max_length = 150.0
wave_speed = 0.9
light_color = Color(1, 0.36862746, 0.3764706, 1)
dark_color = Color(0.9415628, 0, 0.19590142, 1)

[node name="Tentacle7" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target") instance=ExtResource("6_voql5")]
position = Vector2(306, 328)
target = NodePath("../../../Targets/MovingTarget7")
num__segments = 26
max_length = 140.0
wave_speed = 1.1
light_color = Color(0.53862005, 0.9999998, 0.6630365, 1)
dark_color = Color(3.080368e-06, 0.6494347, 0.31226474, 1)

[node name="Targets" type="Node2D" parent="."]
position = Vector2(7, 3)

[node name="MovingTarget1" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(-63, -34)
range = 12.0
speed = 12.0

[node name="MovingTarget2" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(-44, -55)
range = 10.0
speed = 10.0

[node name="MovingTarget3" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(-22, -74)
range = 8.0
speed = 8.0

[node name="MovingTarget4" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(0, -81)
range = 6.0
speed = 6.0

[node name="MovingTarget5" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(22, -72)
range = 8.0
speed = 8.0

[node name="MovingTarget6" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(44, -55)
range = 10.0
speed = 10.0

[node name="MovingTarget7" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(65, -31)
range = 12.0
speed = 12.0

[node name="MovingTarget8" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(-73, -45)
range = 12.0
speed = 12.0

[node name="MovingTarget9" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(-51, -70)
range = 10.0
speed = 10.0

[node name="MovingTarget10" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(-29, -86)
range = 8.0
speed = 8.0

[node name="MovingTarget11" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(-2, -95)
range = 6.0
speed = 6.0

[node name="MovingTarget12" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(28, -85)
range = 8.0
speed = 8.0

[node name="MovingTarget13" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(50, -68)
range = 10.0
speed = 10.0

[node name="MovingTarget14" parent="Targets" instance=ExtResource("7_anms3")]
position = Vector2(71, -44)
range = 12.0
speed = 12.0

[node name="VisionNPC" type="Area2D" parent="."]
position = Vector2(6, 19)

[node name="CollisionShape2D" type="CollisionShape2D" parent="VisionNPC"]
shape = SubResource("CircleShape2D_lfc25")

[node name="Art" type="Sprite2D" parent="VisionNPC"]
position = Vector2(2, -2)
texture = ExtResource("5_anms3")
