[gd_resource type="BehaviorTree" load_steps=16 format=3 uid="uid://b7lkxmyacbk8i"]

[ext_resource type="Script" uid="uid://dr4vkyorjqaqn" path="res://ai/tasks/getPlayerPos.gd" id="1_3ncdb"]
[ext_resource type="Script" uid="uid://dgy3vj6nno8qj" path="res://ai/tasks/signul_phase1_spawn.gd" id="2_g4v1g"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_ak6g3"]
var/state/name = &"state"
var/state/type = 4
var/state/value = ""
var/state/hint = 0
var/state/hint_string = ""
var/agro_dist/name = &"agro_dist"
var/agro_dist/type = 3
var/agro_dist/value = 0.0
var/agro_dist/hint = 0
var/agro_dist/hint_string = ""
var/hit_range/name = &"hit_range"
var/hit_range/type = 3
var/hit_range/value = 0.0
var/hit_range/hint = 0
var/hit_range/hint_string = ""
var/target_pos/name = &"target_pos"
var/target_pos/type = 5
var/target_pos/value = Vector2(0, 0)
var/target_pos/hint = 0
var/target_pos/hint_string = ""
var/kill_laser/name = &"kill_laser"
var/kill_laser/type = 1
var/kill_laser/value = false
var/kill_laser/hint = 0
var/kill_laser/hint_string = ""
var/attack_status/name = &"attack_status"
var/attack_status/type = 4
var/attack_status/value = "DONE"
var/attack_status/hint = 2
var/attack_status/hint_string = "STARTING,RUNNING,FINISHING,DONE"
var/attack_mode/name = &"attack_mode"
var/attack_mode/type = 4
var/attack_mode/value = "DISABLED"
var/attack_mode/hint = 2
var/attack_mode/hint_string = "NONE,DISABLED"
var/player_idx/name = &"player_idx"
var/player_idx/type = 2
var/player_idx/value = 0
var/player_idx/hint = 0
var/player_idx/hint_string = ""
var/phase/name = &"phase"
var/phase/type = 2
var/phase/value = 0
var/phase/hint = 0
var/phase/hint_string = "0,1,2,3"

[sub_resource type="BTAction" id="BTAction_lr4pt"]
script = ExtResource("1_3ncdb")

[sub_resource type="BTSequence" id="BTSequence_mrfvi"]
custom_name = "Constants"
children = [SubResource("BTAction_lr4pt")]

[sub_resource type="BBVariant" id="BBVariant_g4v1g"]
type = 4
saved_value = "DISABLED"
resource_name = "DISABLED"

[sub_resource type="BTCheckVar" id="BTCheckVar_kb6oh"]
variable = &"attack_mode"
value = SubResource("BBVariant_g4v1g")

[sub_resource type="BTSequence" id="BTSequence_ygkkq"]
custom_name = "Phase0"
children = [SubResource("BTCheckVar_kb6oh")]

[sub_resource type="BBVariant" id="BBVariant_f1oat"]
type = 2
saved_value = 0
resource_name = "<null>"

[sub_resource type="BTCheckVar" id="BTCheckVar_3ncdb"]
variable = &"phase"
value = SubResource("BBVariant_f1oat")

[sub_resource type="BTAction" id="BTAction_kb6oh"]
script = ExtResource("2_g4v1g")

[sub_resource type="BTCooldown" id="BTCooldown_f1oat"]
children = [SubResource("BTAction_kb6oh")]

[sub_resource type="BTSequence" id="BTSequence_ofden"]
custom_name = "Phase1"
children = [SubResource("BTCheckVar_3ncdb"), SubResource("BTCooldown_f1oat")]

[sub_resource type="BTSelector" id="BTSelector_mrfvi"]
custom_name = "Phases"
children = [SubResource("BTSequence_ygkkq"), SubResource("BTSequence_ofden")]

[sub_resource type="BTSequence" id="BTSequence_7l6ws"]
custom_name = "Constant and Behavior"
children = [SubResource("BTSequence_mrfvi"), SubResource("BTSelector_mrfvi")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_ak6g3")
root_task = SubResource("BTSequence_7l6ws")
