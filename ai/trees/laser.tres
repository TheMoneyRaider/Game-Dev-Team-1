[gd_resource type="BehaviorTree" load_steps=27 format=3 uid="uid://dlq43y0e0i6on"]

[ext_resource type="Script" uid="uid://dr4vkyorjqaqn" path="res://ai/tasks/getPlayerPos.gd" id="1_0junk"]
[ext_resource type="Script" uid="uid://br65r6s5nmymb" path="res://ai/tasks/handleDeath.gd" id="2_mrfvi"]
[ext_resource type="Script" uid="uid://dkrmjd0p1oufy" path="res://ai/tasks/checkDeagro.gd" id="3_40xi1"]
[ext_resource type="Script" uid="uid://yu3fkdlxtfbv" path="res://ai/tasks/calcPath.gd" id="4_7l6ws"]
[ext_resource type="Script" uid="uid://dko7uh5a2dm00" path="res://ai/tasks/moveToPos.gd" id="5_m5myp"]
[ext_resource type="Script" uid="uid://rvfhx3hd7gln" path="res://ai/tasks/attacks.gd" id="6_08p4w"]
[ext_resource type="Script" uid="uid://clsympdov604o" path="res://ai/tasks/checkAgro.gd" id="7_i4dwu"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_ak6g3"]
var/state/name = &"state"
var/state/type = 4
var/state/value = ""
var/state/hint = 0
var/state/hint_string = ""
var/agro_dist/name = &"agro_dist"
var/agro_dist/type = 3
var/agro_dist/value = 0.0
var/agro_dist/hint = 0
var/agro_dist/hint_string = ""
var/deagro_dist/name = &"deagro_dist"
var/deagro_dist/type = 3
var/deagro_dist/value = 0.0
var/deagro_dist/hint = 0
var/deagro_dist/hint_string = ""

[sub_resource type="BTAction" id="BTAction_lr4pt"]
script = ExtResource("1_0junk")

[sub_resource type="BBVariant" id="BBVariant_lbsgg"]
type = 4
saved_value = "dead"
resource_name = "dead"

[sub_resource type="BTCheckVar" id="BTCheckVar_ywoh5"]
variable = &"state"
value = SubResource("BBVariant_lbsgg")

[sub_resource type="BTAction" id="BTAction_6dg0g"]
script = ExtResource("2_mrfvi")

[sub_resource type="BTSequence" id="BTSequence_xv6gq"]
custom_name = "Die"
children = [SubResource("BTCheckVar_ywoh5"), SubResource("BTAction_6dg0g")]

[sub_resource type="BBVariant" id="BBVariant_kel6m"]
type = 4
saved_value = "agro"
resource_name = "agro"

[sub_resource type="BTCheckVar" id="BTCheckVar_efa7g"]
variable = &"state"
value = SubResource("BBVariant_kel6m")

[sub_resource type="BTAction" id="BTAction_7dnjs"]
script = ExtResource("3_40xi1")

[sub_resource type="BTAction" id="BTAction_gskub"]
script = ExtResource("4_7l6ws")

[sub_resource type="BTAction" id="BTAction_vygrw"]
script = ExtResource("5_m5myp")

[sub_resource type="BTAction" id="BTAction_w61q3"]
script = ExtResource("6_08p4w")

[sub_resource type="BTDelay" id="BTDelay_mtj3f"]
seconds = 0.5
children = [SubResource("BTAction_w61q3")]

[sub_resource type="BTSequence" id="BTSequence_ymovh"]
custom_name = "Attack"
children = [SubResource("BTCheckVar_efa7g"), SubResource("BTAction_7dnjs"), SubResource("BTAction_gskub"), SubResource("BTAction_vygrw"), SubResource("BTDelay_mtj3f")]

[sub_resource type="BTAction" id="BTAction_uikho"]
script = ExtResource("7_i4dwu")

[sub_resource type="BBVariant" id="BBVariant_qu504"]
type = 4
saved_value = "agro"
resource_name = "agro"

[sub_resource type="BTSetVar" id="BTSetVar_nii70"]
variable = &"state"
value = SubResource("BBVariant_qu504")

[sub_resource type="BTSequence" id="BTSequence_puo6y"]
custom_name = "Set Agro"
children = [SubResource("BTAction_uikho"), SubResource("BTSetVar_nii70")]

[sub_resource type="BTSelector" id="BTSelector_fykrr"]
children = [SubResource("BTAction_lr4pt"), SubResource("BTSequence_xv6gq"), SubResource("BTSequence_ymovh"), SubResource("BTSequence_puo6y")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_ak6g3")
root_task = SubResource("BTSelector_fykrr")
